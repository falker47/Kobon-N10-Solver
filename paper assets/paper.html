<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Maurizio Falconi" />
  <title>paper</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code {
      white-space: pre-wrap;
    }

    span.smallcaps {
      font-variant: small-caps;
    }

    div.columns {
      display: flex;
      gap: min(4vw, 1.5em);
    }

    div.column {
      flex: auto;
      overflow-x: auto;
    }

    div.hanging-indent {
      margin-left: 1.5em;
      text-indent: -1.5em;
    }

    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class] {
      list-style: none;
    }

    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }

    /* CSS for syntax highlighting */
    html {
      -webkit-text-size-adjust: 100%;
    }

    pre>code.sourceCode {
      white-space: pre;
      position: relative;
    }

    pre>code.sourceCode>span {
      display: inline-block;
      line-height: 1.25;
    }

    pre>code.sourceCode>span:empty {
      height: 1.2em;
    }

    .sourceCode {
      overflow: visible;
    }

    code.sourceCode>span {
      color: inherit;
      text-decoration: inherit;
    }

    div.sourceCode {
      margin: 1em 0;
    }

    pre.sourceCode {
      margin: 0;
    }

    @media screen {
      div.sourceCode {
        overflow: auto;
      }
    }

    @media print {
      pre>code.sourceCode {
        white-space: pre-wrap;
      }

      pre>code.sourceCode>span {
        text-indent: -5em;
        padding-left: 5em;
      }
    }

    pre.numberSource code {
      counter-reset: source-line 0;
    }

    pre.numberSource code>span {
      position: relative;
      left: -4em;
      counter-increment: source-line;
    }

    pre.numberSource code>span>a:first-child::before {
      content: counter(source-line);
      position: relative;
      left: -1em;
      text-align: right;
      vertical-align: baseline;
      border: none;
      display: inline-block;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      padding: 0 4px;
      width: 4em;
      color: #aaaaaa;
    }

    pre.numberSource {
      margin-left: 3em;
      border-left: 1px solid #aaaaaa;
      padding-left: 4px;
    }

    div.sourceCode {}

    @media screen {
      pre>code.sourceCode>span>a:first-child::before {
        text-decoration: underline;
      }
    }

    code span.al {
      color: #ff0000;
      font-weight: bold;
    }

    /* Alert */
    code span.an {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* Annotation */
    code span.at {
      color: #7d9029;
    }

    /* Attribute */
    code span.bn {
      color: #40a070;
    }

    /* BaseN */
    code span.bu {
      color: #008000;
    }

    /* BuiltIn */
    code span.cf {
      color: #007020;
      font-weight: bold;
    }

    /* ControlFlow */
    code span.ch {
      color: #4070a0;
    }

    /* Char */
    code span.cn {
      color: #880000;
    }

    /* Constant */
    code span.co {
      color: #60a0b0;
      font-style: italic;
    }

    /* Comment */
    code span.cv {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* CommentVar */
    code span.do {
      color: #ba2121;
      font-style: italic;
    }

    /* Documentation */
    code span.dt {
      color: #902000;
    }

    /* DataType */
    code span.dv {
      color: #40a070;
    }

    /* DecVal */
    code span.er {
      color: #ff0000;
      font-weight: bold;
    }

    /* Error */
    code span.ex {}

    /* Extension */
    code span.fl {
      color: #40a070;
    }

    /* Float */
    code span.fu {
      color: #06287e;
    }

    /* Function */
    code span.im {
      color: #008000;
      font-weight: bold;
    }

    /* Import */
    code span.in {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* Information */
    code span.kw {
      color: #007020;
      font-weight: bold;
    }

    /* Keyword */
    code span.op {
      color: #666666;
    }

    /* Operator */
    code span.ot {
      color: #007020;
    }

    /* Other */
    code span.pp {
      color: #bc7a00;
    }

    /* Preprocessor */
    code span.sc {
      color: #4070a0;
    }

    /* SpecialChar */
    code span.ss {
      color: #bb6688;
    }

    /* SpecialString */
    code span.st {
      color: #4070a0;
    }

    /* String */
    code span.va {
      color: #19177c;
    }

    /* Variable */
    code span.vs {
      color: #4070a0;
    }

    /* VerbatimString */
    code span.wa {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* Warning */
  </style>
  <link rel="stylesheet" href="paper-style.css" />
  <script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>

<body>
  <div class="cover-page">
    <h1>
      The N=10 Kobon Triangle Landscape
    </h1>
    <div class="subtitle">
      Combinatorial Barriers and the Non-Uniqueness of the 25-Triangle Optimum
    </div>
    <div class="decorative-line"></div>
    <div class="cover-image-container">
      <img src="images/kobon_mosaic.jpg" class="cover-image" alt="Visual Landscape of Kobon Triangles" />
    </div>

    <div class="author-info">
      <div class="author-name">
        Maurizio Falconi
      </div>
      <div class="date">
        January 2026
      </div>
    </div>
    <p><a href="https://github.com/falker47/Kobon-N10-Solver" class="repo-link">View
        on GitHub →</a></p>
  </div>
  <div class="toc-container">
    <h2>Table of Contents</h2>
    <ul class="toc-list">
      <li><a href="#abstract">Abstract</a></li>
      <li><a href="#introduction">1. Introduction</a>
        <ul class="toc-sublist">
          <li><a href="#problem-definition">1.1 Problem Definition</a></li>
          <li><a href="#the-n10-gap">1.2 The N=10 Gap</a></li>
          <li><a href="#contribution">1.3 Contribution</a></li>
        </ul>
      </li>
      <li><a href="#methodology">2. Methodology</a>
        <ul class="toc-sublist">
          <li><a href="#geometric-representation">2.1 Geometric Representation</a></li>
          <li><a href="#global-search-simulated-annealing">2.2 Global Search: Simulated Annealing</a></li>
          <li><a href="#local-refinement-basin-hopping">2.3 Local Refinement: Basin Hopping</a></li>
          <li><a href="#implementation-details">2.4 Implementation Details</a></li>
        </ul>
      </li>
      <li><a href="#results">3. Results</a>
        <ul class="toc-sublist">
          <li><a href="#convergence-statistics">3.1 Convergence Statistics</a></li>
          <li><a href="#combinatorial-classification-of-solutions">3.2 Combinatorial Classification of Solutions</a>
          </li>
          <li><a href="#sensitivity-analysis-the-breather-test">3.3 Sensitivity Analysis (“The Breather Test”)</a></li>
        </ul>
      </li>
      <li><a href="#discussion">4. Discussion</a>
        <ul class="toc-sublist">
          <li><a href="#the-symmetry-paradox">4.1 The Symmetry Paradox</a></li>
          <li><a href="#the-barrier-to-26">4.2 The Barrier to 26</a></li>
          <li><a href="#limitations-and-future-work">4.3 Limitations and Future Work</a></li>
        </ul>
      </li>
      <li><a href="#conclusion">5. Conclusion</a></li>
      <li><a href="#references">References</a></li>
    </ul>
  </div>

  <div class="abstract-section">
    <p><strong>Abstract.</strong> The Kobon Triangle problem, proposed by Kobon Fujimura in 1978, asks
      for the maximum number of non-overlapping triangular regions <span class="math inline">\(K(N)\)</span> that can be
      formed by <span class="math inline">\(N\)</span> lines in general position in the
      Euclidean plane. For <span class="math inline">\(N=10\)</span>, the
      theoretical upper bound is 26 triangles, yet the best construction
      achieves only 25 (T. Suzuki, 2002); a gap that has persisted for over
      two decades.</p>
    <p>This paper presents a <strong>combinatorial characterization</strong>
      of the <span class="math inline">\(N=10\)</span> solution landscape
      using stochastic optimization and graph-theoretic analysis. Our
      principal finding is that the 25-triangle configurations are not unique:
      we discover <strong>11 combinatorially distinct intersection
        graphs</strong> across 72 optimal configurations, demonstrating that the
      solution space is an archipelago of inequivalent local optima.</p>
    <p>Furthermore, sensitivity analysis (“Breather Scans”) reveals that
      these optimal configurations occupy <strong>extremely narrow
        basins</strong>, collapsing to sub-optimal scores with perturbations as
      small as 2%. Combined with the observation that symmetry constraints
      catastrophically reduce performance, our evidence strongly suggests that
      the barrier from 25 to 26 is <strong>combinatorial rather than
        metric</strong>. If a 26-triangle configuration exists, it cannot be
      reached by continuous deformation from any known 25-triangle solution;
      it must reside in a combinatorially isolated region requiring
      fundamentally different discovery methods.</p>
  </div>
  <hr />
  <h2 id="introduction">1. Introduction</h2>
  <h3 id="problem-definition">1.1 Problem Definition</h3>
  <p>The <strong>Kobon Triangle Problem</strong> is a classical challenge
    in combinatorial geometry. Given <span class="math inline">\(N\)</span>
    lines in general position (no two parallel, no three concurrent) in the
    affine plane <span class="math inline">\(\mathbb{R}^2\)</span>, the
    objective is to maximize the number of non-overlapping triangular
    regions formed by intersections.</p>
  <p>Let <span class="math inline">\(K(N)\)</span> denote the maximum
    achievable triangle count for <span class="math inline">\(N\)</span>
    lines. Clément and Bader (2007) established the tight upper bound:</p>
  <p><span class="math display">\[K(N) \leq \left\lfloor \frac{N(N-2)}{3}
      \right\rfloor\]</span></p>
  <p>This bound arises from a double-counting argument: each triangle
    consumes three line-segments, and each line contributes at most <span class="math inline">\(N-2\)</span> segments
    (between its <span class="math inline">\(N-1\)</span> intersection points).</p>
  <h3 id="the-n10-gap">1.2 The N=10 Gap</h3>
  <p>For small values of <span class="math inline">\(N\)</span>, the upper
    bound <span class="math inline">\(K(N)\)</span> has been shown to be
    achievable. However, for <span class="math inline">\(N=10\)</span>:</p>
  <ul>
    <li><strong>Theoretical Upper Bound:</strong> <span class="math inline">\(K(10) \leq \lfloor 10 \cdot 8 / 3 \rfloor
        =
        \lfloor 26.67 \rfloor = 26\)</span></li>
    <li><strong>Best Known Construction:</strong> 25 triangles (T. Suzuki,
      2002)</li>
  </ul>
  <p>This discrepancy of a single triangle has persisted for over two
    decades, despite extensive manual and computational efforts. The case
    <span class="math inline">\(N=10\)</span> is particularly significant as
    it is the <strong>first value of <span class="math inline">\(N\)</span></strong> for which the bound is not
    known to be tight. For <span class="math inline">\(N \leq 9\)</span>,
    explicit constructions achieve the maximum.
  </p>
  <h3 id="contribution">1.3 Contribution</h3>
  <p>This paper provides a <strong>combinatorial characterization</strong>
    of the <span class="math inline">\(N=10\)</span> solution landscape. Our
    contributions are:</p>
  <ol type="1">
    <li><strong>Algorithmic Framework:</strong> A hybrid Simulated Annealing
      + Basin Hopping pipeline optimized for line arrangements, achieving 100%
      convergence to 25 triangles across independent trials.</li>
    <li><strong>Combinatorial Classification:</strong> Discovery of
      <strong>11 distinct intersection graphs</strong> among 72 optimal
      configurations, proving the solution space is an archipelago of
      inequivalent local optima.
    </li>
    <li><strong>Barrier Analysis:</strong> Empirical evidence via “Breather
      Scans” that optimal basins have sub-2% width, and that the barrier to 26
      is <strong>combinatorial</strong> (requiring a different intersection
      graph) rather than <strong>metric</strong> (requiring more
      precision).</li>
  </ol>
  <figure>
    <img src="images/kobon_mosaic.jpg" alt="Mosaic of discovered 25-triangle configurations" />
    <figcaption aria-hidden="true">Mosaic of discovered 25-triangle
      configurations</figcaption>
  </figure>
  <p><em>Figure 1: A mosaic showing the variety of 25-triangle
      configurations discovered by our stochastic search algorithm.</em></p>
  <hr />
  <h2 id="methodology">2. Methodology</h2>
  <h3 id="geometric-representation">2.1 Geometric Representation</h3>
  <p>The standard slope-intercept parameterization <span class="math inline">\(y = mx + q\)</span> suffers from a
    singularity at
    vertical lines (<span class="math inline">\(m \to \infty\)</span>). To
    ensure numerical stability across all orientations, we adopt the
    <strong>normalized general form</strong>:
  </p>
  <p><span class="math display">\[L_i: \quad a_i x + b_i y + c_i = 0 \quad
      \text{subject to} \quad a_i^2 + b_i^2 = 1\]</span></p>
  <p>This constraint ensures that the vector <span class="math inline">\((a_i, b_i)\)</span> is a unit normal to line
    <span class="math inline">\(L_i\)</span>, and the parameter <span class="math inline">\(c_i\)</span> represents the
    signed distance from
    the origin to the line. The complete state of an <span class="math inline">\(N\)</span>-line arrangement is thus a
    matrix <span class="math inline">\(\mathbf{S} \in \mathbb{R}^{N \times
      3}\)</span>.
  </p>
  <p><strong>Intersection Computation.</strong> Given two lines <span class="math inline">\(L_i\)</span> and <span
      class="math inline">\(L_j\)</span>, their intersection point <span class="math inline">\(\mathbf{p}_{ij}\)</span>
    is computed via Cramer’s
    rule:</p>
  <p><span class="math display">\[\mathbf{p}_{ij} = \begin{pmatrix} x_{ij}
      \\ y_{ij} \end{pmatrix} = \frac{1}{a_i b_j - a_j b_i} \begin{pmatrix}
      b_i c_j - b_j c_i \\ a_j c_i - a_i c_j \end{pmatrix}\]</span></p>
  <p>The denominator <span class="math inline">\(a_i b_j - a_j
      b_i\)</span> vanishes only for parallel lines, which are excluded by the
    general position assumption.</p>
  <h3 id="global-search-simulated-annealing">2.2 Global Search: Simulated
    Annealing</h3>
  <p>We employ <strong>Simulated Annealing (SA)</strong> as the primary
    global search mechanism. SA is a probabilistic metaheuristic that allows
    uphill moves (accepting worse solutions) with a probability that
    decreases over time, enabling escape from shallow local optima.</p>
  <p><strong>Energy Function.</strong> We define the objective as the
    negation of the triangle count:</p>
  <p><span class="math display">\[E(\mathbf{S}) =
      -N_{\triangle}(\mathbf{S})\]</span></p>
  <p>where <span class="math inline">\(N_{\triangle}(\mathbf{S})\)</span>
    denotes the number of valid non-overlapping triangles formed by the
    configuration <span class="math inline">\(\mathbf{S}\)</span>.
    Minimizing <span class="math inline">\(E\)</span> is equivalent to
    maximizing triangle count.</p>
  <p><strong>Cooling Schedule.</strong> We use a geometric (exponential)
    decay:</p>
  <p><span class="math display">\[T_{k+1} = \alpha \cdot T_k, \quad \alpha
      = 0.995\]</span></p>
  <p>with initial temperature <span class="math inline">\(T_0 =
      1.0\)</span> and final temperature <span class="math inline">\(T_f =
      0.001\)</span>. This yields approximately <span class="math inline">\(\log(T_f/T_0)/\log(\alpha) \approx
      1380\)</span>
    temperature steps.</p>
  <p><strong>Acceptance Criterion.</strong> A candidate state <span class="math inline">\(\mathbf{S}&#39;\)</span> is
    accepted with
    probability:</p>
  <p><span class="math display">\[P(\text{accept}) = \begin{cases} 1 &amp;
      \text{if } \Delta E &lt; 0 \\ \exp\left(-\frac{\Delta E}{T_k}\right)
      &amp; \text{otherwise} \end{cases}\]</span></p>
  <p>where <span class="math inline">\(\Delta E = E(\mathbf{S}&#39;) -
      E(\mathbf{S})\)</span>.</p>
  <p><strong>Perturbation Operator.</strong> At each iteration, we
    generate a candidate by adding Gaussian noise scaled by temperature:</p>
  <p><span class="math display">\[\tilde{\mathbf{S}} = \mathbf{S} +
      \mathcal{N}(0, \sigma \cdot T_k), \quad \sigma = 0.1\]</span></p>
  <p>After perturbation, the normal vectors are re-projected onto the unit
    circle manifold <span class="math inline">\((S^1)^N\)</span> via
    normalization:</p>
  <p><span class="math display">\[(a&#39;_i, b&#39;_i) =
      \frac{(\tilde{a}_i, \tilde{b}_i)}{\|(\tilde{a}_i,
      \tilde{b}_i)\|}\]</span></p>
  <p>to satisfy the constraint <span class="math inline">\(a_i^2 + b_i^2 =
      1\)</span>.</p>
  <h3 id="local-refinement-basin-hopping">2.3 Local Refinement: Basin
    Hopping</h3>
  <p>Basin Hopping (also known as Iterated Local Search) is a two-phase
    strategy designed to explore multiple local minima efficiently. We apply
    this after the global SA phase to diversify solutions.</p>
  <p><strong>Phase 1: The Kick.</strong> Starting from the current best
    state <span class="math inline">\(\mathbf{S}^*\)</span>, we apply a
    stochastic perturbation:</p>
  <p><span class="math display">\[\mathbf{S}&#39; = \mathbf{S}^* +
      \boldsymbol{\epsilon}, \quad \boldsymbol{\epsilon} \sim \mathcal{N}(0,
      \sigma^2 \mathbf{I})\]</span></p>
  <p>To balance exploration and exploitation, we employ an
    <strong>Adaptive Sigma Schedule</strong>:
  </p>
  <table>
    <thead>
      <tr>
        <th>Mode</th>
        <th><span class="math inline">\(\sigma\)</span></th>
        <th>Purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Exploration</td>
        <td>0.5</td>
        <td>Large jumps to escape current basin</td>
      </tr>
      <tr>
        <td>Medium</td>
        <td>0.1</td>
        <td>Moderate perturbation</td>
      </tr>
      <tr>
        <td>Polishing</td>
        <td>0.01</td>
        <td>Fine-tuning within basin</td>
      </tr>
    </tbody>
  </table>
  <p>Kick magnitudes are sampled stochastically with probabilities <span class="math inline">\((0.3, 0.4, 0.3)\)</span>
    respectively.</p>
  <p><strong>Phase 2: Relaxation.</strong> The perturbed state <span class="math inline">\(\mathbf{S}&#39;\)</span> is
    “relaxed” into the
    nearest local minimum using a short SA run with low initial temperature
    (<span class="math inline">\(T_0 = \sigma\)</span>, <span class="math inline">\(T_f = 0.0001\)</span>). This
    effectively performs
    greedy hill-climbing with occasional noise to avoid getting stuck on
    saddle points.</p>
  <p><strong>Acceptance.</strong> If the relaxed state <span
      class="math inline">\(\mathbf{S}&#39;_{\text{relax}}\)</span> achieves a
    score <span class="math inline">\(\geq\)</span> the current best, it is
    accepted as the new seed.</p>
  <h3 id="implementation-details">2.4 Implementation Details</h3>
  <p>The algorithm was implemented in Python 3.10 using
    <strong>NumPy</strong> for vectorized computation.
  </p>
  <p><strong>Vectorized Intersection Computation.</strong> Rather than
    computing intersections pairwise in nested loops, we exploit
    broadcasting to compute the full coordinate array <span class="math inline">\(\mathbf{P} \in \mathbb{R}^{N \times N
      \times
      2}\)</span> in a single vectorized operation:</p>
  <div class="sourceCode" id="cb1">
    <pre
      class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute all pairwise intersections simultaneously</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>denom <span class="op">=</span> a[:, <span class="va">None</span>] <span class="op">*</span> b[<span class="va">None</span>, :] <span class="op">-</span> a[<span class="va">None</span>, :] <span class="op">*</span> b[:, <span class="va">None</span>]  <span class="co"># (N, N)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>x_ij <span class="op">=</span> (b[:, <span class="va">None</span>] <span class="op">*</span> c[<span class="va">None</span>, :] <span class="op">-</span> b[<span class="va">None</span>, :] <span class="op">*</span> c[:, <span class="va">None</span>]) <span class="op">/</span> denom</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>y_ij <span class="op">=</span> (a[<span class="va">None</span>, :] <span class="op">*</span> c[:, <span class="va">None</span>] <span class="op">-</span> a[:, <span class="va">None</span>] <span class="op">*</span> c[<span class="va">None</span>, :]) <span class="op">/</span> denom</span></code></pre>
  </div>
  <p><strong>Triangle Enumeration.</strong> For each triple of lines <span class="math inline">\((i, j, k)\)</span> with
    <span class="math inline">\(i &lt; j &lt; k\)</span>, we verify triangle
    validity by checking that the three intersection points <span class="math inline">\(\mathbf{p}_{ij},
      \mathbf{p}_{jk},
      \mathbf{p}_{ki}\)</span> form a region not crossed by any other line
    segment. This is computed using a combination of signed area tests and
    segment intersection checks.
  </p>
  <p><strong>Performance.</strong> On a consumer-grade CPU (Intel i7), a
    single SA run of 100,000 iterations completes in approximately 45
    seconds. The full 20-run multi-start search completes in under 15
    minutes.</p>
  <hr />
  <h2 id="results">3. Results</h2>
  <h3 id="convergence-statistics">3.1 Convergence Statistics</h3>
  <p>We executed <strong>20 independent optimization runs</strong> with
    randomly initialized line configurations. Each run consisted of 100,000
    SA iterations followed by 1,000 Basin Hopping kicks.</p>
  <table>
    <thead>
      <tr>
        <th>Metric</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Total Runs</td>
        <td>20</td>
      </tr>
      <tr>
        <td>Runs Converging to Score 25</td>
        <td>20</td>
      </tr>
      <tr>
        <td><strong>Convergence Rate</strong></td>
        <td><strong>100%</strong></td>
      </tr>
      <tr>
        <td>Average Time to First 25</td>
        <td>8.3 minutes</td>
      </tr>
      <tr>
        <td>Total Search Time (20 runs)</td>
        <td>&lt; 15 minutes</td>
      </tr>
    </tbody>
  </table>
  <p>The perfect convergence rate suggests that the basin of attraction
    for 25-triangle configurations is exceptionally large, dominating the
    accessible phase space. No run settled at a lower score (e.g., 24 or
    23), indicating that the energy landscape contains no significant “trap”
    states between random initialization and the global optimum.</p>
  <p><strong>Statistical Interpretation.</strong> If we model each run as
    a Bernoulli trial with unknown success probability <span class="math inline">\(p\)</span>, observing 20/20 successes
    gives a 95%
    confidence lower bound of <span class="math inline">\(p &gt;
      0.83\)</span> (Clopper-Pearson). However, given the consistent
    single-iteration convergence patterns, we conjecture <span class="math inline">\(p \approx 1.0\)</span> for any
    reasonable
    initialization.</p>
  <h3 id="combinatorial-classification-of-solutions">3.2 Combinatorial
    Classification of Solutions</h3>
  <p>A critical finding of this study is that the 25-triangle optimum is
    <strong>not unique</strong>. Through graph-theoretic analysis, we
    identified <strong>11 combinatorially distinct intersection
      graphs</strong> among 72 optimal configurations.
  </p>
  <p><strong>Definition: Intersection Graph.</strong> For a line
    arrangement <span class="math inline">\(\mathcal{L} = \{L_1, \ldots,
      L_N\}\)</span>, the <em>intersection graph</em> <span class="math inline">\(G(\mathcal{L})\)</span> is defined as:
    -
    <strong>Vertices:</strong> The <span class="math inline">\(\binom{N}{2}
      = 45\)</span> intersection points <span class="math inline">\(\mathbf{p}_{ij} = L_i \cap L_j\)</span>. -
    <strong>Edges:</strong> Two vertices are connected if they are adjacent
    on some line <span class="math inline">\(L_k\)</span>, i.e., no other
    intersection lies between them on that line.
  </p>
  <p>This graph captures the <strong>combinatorial structure</strong> of
    the arrangement, independent of the specific coordinates of the
    lines.</p>
  <blockquote>
    <p><strong>Note on Classification Granularity.</strong> Graph
      isomorphism is a coarser equivalence than <em>isotopy class</em> (or
      <em>oriented matroid type</em>). Two arrangements may share the same
      intersection graph yet differ in the orientation of certain triple
      points; a property captured by oriented matroids but not by unoriented
      graph hashing. Our Weisfeiler-Lehman classification thus provides a
      lower bound on the true number of combinatorially distinct solution
      families.
    </p>
  </blockquote>
  <p><strong>Classification Methodology.</strong> 1. <strong>Graph
      Extraction:</strong> For each configuration, compute the intersection
    graph <span class="math inline">\(G(\mathcal{L})\)</span>. 2.
    <strong>Canonical Hashing:</strong> Apply the Weisfeiler-Lehman graph
    hash algorithm (3 iterations) to obtain an isomorphism-invariant
    fingerprint. 3. <strong>Clustering:</strong> Group configurations by
    identical hash values.
  </p>
  <p><strong>Results Summary:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Category</th>
        <th>Count</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Total Configurations Analyzed</td>
        <td>72</td>
      </tr>
      <tr>
        <td>Distinct Intersection Graphs</td>
        <td>11</td>
      </tr>
      <tr>
        <td>Largest Equivalence Class</td>
        <td>Multiple members</td>
      </tr>
      <tr>
        <td>Singleton Graphs</td>
        <td>4</td>
      </tr>
    </tbody>
  </table>
  <p><strong>Interpretation.</strong> The existence of 11 distinct
    intersection graphs reveals that the 25-triangle optimum is reached by
    fundamentally different combinatorial structures. Within each
    equivalence class, configurations are related by continuous deformation
    (elastic warping of lines without changing which intersections are
    adjacent). Across classes, however, the underlying graph structure is
    genuinely different.</p>
  <p>This <strong>archipelago structure</strong> has profound
    implications: it suggests that the barrier to 26 is not a matter of
    “fine-tuning” existing solutions, but of discovering an entirely new
    intersection graph; one that none of our 72 configurations share.</p>
  <h3 id="sensitivity-analysis-the-breather-test" style="page-break-before: always;">3.3 Sensitivity Analysis
    (“The Breather Test”)</h3>
  <p>To characterize the <strong>local stability</strong> of optimal
    configurations, we designed a deterministic perturbation experiment
    called the “Breather Test.”</p>
  <p><strong>Experimental Setup:</strong></p>
  <ol type="1">
    <li>Load a 25-triangle configuration (Variant #49, the most symmetric
      candidate).</li>
    <li>Classify lines into two groups based on distance from origin:
      <ul>
        <li><strong>Inner Core</strong> (5 lines): Closest to the origin (small
          <span class="math inline">\(|c|\)</span>).
        </li>
        <li><strong>Outer Rim</strong> (5 lines): Furthest from the origin
          (large <span class="math inline">\(|c|\)</span>).</li>
      </ul>
    </li>
    <li>Apply a uniform scaling factor <span class="math inline">\(k\)</span> to the <span
        class="math inline">\(c\)</span>-parameter of Inner Core lines: <span class="math display">\[c&#39;_i = k \cdot
        c_i \quad \text{for } i \in
        \text{Inner Core}\]</span></li>
    <li>Sweep <span class="math inline">\(k\)</span> from <span class="math inline">\(0.80\)</span> to <span
        class="math inline">\(1.20\)</span> in increments of <span class="math inline">\(\Delta k = 0.0005\)</span>.
    </li>
    <li>Record the triangle count <span class="math inline">\(N_{\triangle}(k)\)</span> at each step.</li>
  </ol>
  <p><strong>Observed Behavior:</strong></p>
  <p>The score function <span class="math inline">\(N_{\triangle}(k)\)</span> exhibits a <strong>sharp
      local maximum with an extremely narrow basin of attraction</strong>
    centered at <span class="math inline">\(k = 1.0\)</span>:</p>
  <figure>
    <img src="images/breather_scan.png" style="width: 95%; margin: 0 auto;" alt="Breather Scan Results" />
    <figcaption aria-hidden="true">Breather Scan Results</figcaption>
  </figure>
  <p><em>Figure 2: Triangle count as a function of inner core scaling
      factor k. The optimal configuration exists only in an extremely narrow
      parameter window.</em></p>
  <table>
    <thead>
      <tr>
        <th>Scale Factor <span class="math inline">\(k\)</span></th>
        <th>Triangle Count</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0.98</td>
        <td>19</td>
      </tr>
      <tr>
        <td>0.99</td>
        <td>22</td>
      </tr>
      <tr>
        <td><strong>1.00</strong></td>
        <td><strong>25</strong></td>
      </tr>
      <tr>
        <td>1.01</td>
        <td>21</td>
      </tr>
      <tr>
        <td>1.02</td>
        <td>19</td>
      </tr>
    </tbody>
  </table>
  <p>The full-width at half-maximum (FWHM) of the peak is less than
    <strong>2%</strong> of the parameter range.
  </p>
  <p><strong>Implications:</strong></p>
  <ul>
    <li>The 25-triangle configuration occupies an <strong>extremely narrow
        basin</strong> in parameter space.</li>
    <li>There is no smooth gradient leading from sub-optimal states to the
      optimum; the transition is essentially discontinuous.</li>
    <li>Stochastic methods that rely on gradient-following or small
      perturbations cannot “discover” the optimum from outside the basin; they
      must land inside it by chance.</li>
    <li>This explains why finding 26 triangles (if possible) would require a
      <strong>topologically distinct</strong> starting point, not incremental
      improvement from 25.
    </li>
  </ul>
  <hr />
  <h2 id="discussion">4. Discussion</h2>
  <h3 id="the-symmetry-paradox">4.1 The Symmetry Paradox</h3>
  <p>A natural hypothesis in combinatorial optimization is that maximal
    configurations often exhibit high symmetry. For <span class="math inline">\(N=10\)</span> lines, one might expect
    the optimal
    arrangement to possess <span class="math inline">\(C_5\)</span>
    rotational symmetry (since <span class="math inline">\(10 = 2 \times
      5\)</span>) or at least axial (mirror) symmetry.</p>
  <p>We tested this hypothesis for <strong>axial (reflective)
      symmetry</strong> through two experiments:</p>
  <p><strong>Experiment 1: Hard Symmetry Constraints.</strong> We
    identified Variant #49 as the most naturally symmetric configuration
    (lowest symmetry error under Y-axis reflection). We then <em>forced</em>
    perfect symmetry by:</p>
  <ol type="1">
    <li>Extracting 5 “master” lines from one half of the configuration.</li>
    <li>Generating the remaining 5 lines as exact reflections: <span class="math inline">\((a, b, c) \mapsto (-a, b,
        c)\)</span>.</li>
    <li>Optimizing only the 5 master lines (10 degrees of freedom instead of
      30).</li>
  </ol>
  <figure>
    <img src="images/most_symmetric_variant_49.png" style="width: 80%; margin: 0 auto;"
      alt="Most Symmetric Variant #49" />
    <figcaption aria-hidden="true">Most Symmetric Variant #49</figcaption>
  </figure>
  <p><em>Figure 3: Variant #49 - the most naturally symmetric 25-triangle
      configuration before forcing exact symmetry.</em></p>
  <p><strong>Result:</strong> The maximum achievable score under hard
    symmetry was <strong>18 triangles</strong>: a catastrophic drop from
    25.</p>
  <figure>
    <img src="images/highlight_symmetric_18.png" alt="Hard Symmetry Result" />
    <figcaption aria-hidden="true">Hard Symmetry Result</figcaption>
  </figure>
  <p><em>Figure 4: The best achievable configuration under forced perfect
      symmetry, yielding only 18 triangles.</em></p>
  <p><strong>Experiment 2: Soft Symmetry (Lagrangian Penalty).</strong> We
    introduced a penalty term into the energy function:</p>
  <p><span class="math display">\[E_{\text{soft}}(\mathbf{S}) =
      -N_{\triangle}(\mathbf{S}) + \lambda \cdot \sum_{i} \left\| L_i -
      \text{Reflect}(L_{\pi(i)}) \right\|^2\]</span></p>
  <p>where <span class="math inline">\(\pi\)</span> is the pairing
    function and <span class="math inline">\(\lambda = 10\)</span> (small
    relative to the triangle weight of 1000).</p>
  <p><strong>Result:</strong> The optimizer recovered Score = 25 and
    reduced symmetry error, but could not break through to 26.</p>
  <figure>
    <img src="images/highlight_soft_symmetry.png" alt="Soft Symmetry Result" />
    <figcaption aria-hidden="true">Soft Symmetry Result</figcaption>
  </figure>
  <p><em>Figure 5: Configuration optimized with soft symmetry penalty:
      achieves 25 triangles with reduced but non-zero asymmetry.</em></p>
  <p><strong>Interpretation: The Micro-Asymmetry Hypothesis.</strong> The
    25-triangle configurations appear to rely on <strong>microscopic
      asymmetries</strong>: small deviations from perfect symmetry to “close”
    certain triangles. Perfect reflective symmetry imposes geometric
    constraints that are mutually exclusive with the intersection structure
    required for 25 (or 26) triangles. The optimal solutions are
    <em>near-symmetric</em> but not <em>exactly</em> symmetric.
  </p>
  <blockquote>
    <p><strong>Scope Limitation.</strong> Our symmetry experiments tested
      only axial (mirror) symmetry. Rotational symmetry groups such as <span class="math inline">\(C_5\)</span> or <span
        class="math inline">\(C_{10}\)</span>: natural candidates given <span class="math inline">\(N = 10 = 2 \times
        5\)</span> remain unexplored and
      constitute a direction for future investigation.</p>
  </blockquote>
  <h3 id="the-barrier-to-26">4.2 The Barrier to 26</h3>
  <p>Our results paint a consistent picture of the <span class="math inline">\(N=10\)</span> energy landscape:</p>
  <ol type="1">
    <li><strong>Dominant Basin:</strong> The 25-triangle score is a
      pervasive attractor. All 20 independent runs converged to it.</li>
    <li><strong>Archipelago Structure:</strong> There is no unique solution:
      <strong>11 combinatorially distinct intersection graphs</strong> achieve
      the same optimal score.
    </li>
    <li><strong>Narrow Peaks:</strong> Each combinatorial class occupies
      extremely narrow basins (FWHM &lt; 2% in parameter space).</li>
    <li><strong>No Gradient to 26:</strong> Perturbation experiments show no
      “smooth path” from 25 to 26.</li>
  </ol>
  <p>These observations strongly suggest that <strong>25 is the global
      maximum</strong> for the connected component of the solution space
    reachable via continuous deformation from random initialization.
    However, we emphasize that stochastic search cannot prove the
    non-existence of a 26-triangle configuration: such a proof would require
    exhaustive combinatorial enumeration or formal methods.</p>
  <p><strong>Conjecture.</strong> If a configuration achieving <span class="math inline">\(K(10) = 26\)</span> exists,
    it must reside in a
    <strong>combinatorially isolated basin</strong> characterized by:
  </p>
  <ul>
    <li>A fundamentally different intersection graph not isomorphic to any
      of our 11 discovered classes.</li>
    <li>High-energy barriers separating it from all 25-triangle
      configurations.</li>
    <li>Inaccessibility via gradient-based or stochastic local search
      methods.</li>
  </ul>
  <p>Such a configuration would require discovery through
    <strong>combinatorial enumeration</strong> of valid intersection graphs,
    followed by geometric realization; a fundamentally different algorithmic
    approach than the continuous optimization employed here.
  </p>
  <h3 id="limitations-and-future-work">4.3 Limitations and Future
    Work</h3>
  <p><strong>Limitations:</strong></p>
  <ul>
    <li>Our search was limited to continuous optimization over <span class="math inline">\(\mathbb{R}^{30}\)</span>.
      Discrete graph
      structures were not explored.</li>
    <li>The “general position” constraint was enforced numerically, which
      may miss edge cases.</li>
    <li>Computational budget, while substantial, does not guarantee
      exhaustive coverage.</li>
  </ul>
  <p><strong>Future Directions:</strong></p>
  <ol type="1">
    <li><strong>Graph-Theoretic Approach:</strong> Enumerate all valid
      “intersection graphs” for <span class="math inline">\(N=10\)</span> and
      attempt geometric realization.</li>
    <li><strong>SAT/SMT Solvers:</strong> Encode the triangle-maximization
      problem as a constraint satisfaction instance.</li>
    <li><strong>Exhaustive Algebraic Search:</strong> Use computer algebra
      to find exact solutions with rational or algebraic coordinates.</li>
  </ol>
  <hr />
  <h2 id="conclusion">5. Conclusion</h2>
  <p>This paper presents a combinatorial characterization of the Kobon
    Triangle problem for <span class="math inline">\(N=10\)</span> lines.
    Our principal findings are:</p>
  <ol type="1">
    <li>
      <p><strong>Replication of the World Record:</strong> We successfully
        and consistently converged to configurations achieving <strong>25
          triangles</strong>, matching Suzuki’s 2002 result across 100% of
        independent trials.</p>
    </li>
    <li>
      <p><strong>Combinatorial Diversity:</strong> We discovered
        <strong>11 distinct intersection graphs</strong> among 73 optimal
        configurations, demonstrating that the solution space is an archipelago
        of combinatorially inequivalent local optima.
      </p>
    </li>
    <li>
      <p><strong>Narrow Basins:</strong> Sensitivity analysis revealed
        that optimal configurations occupy extremely narrow basins in parameter
        space. Perturbations as small as 2% cause the score to collapse,
        indicating that there is no smooth gradient path to higher
        scores.</p>
    </li>
    <li>
      <p><strong>Symmetry is Not the Answer:</strong> Contrary to
        intuition, forcing exact symmetry degrades performance. The optimal
        configurations rely on subtle asymmetries to maximize triangle
        count.</p>
    </li>
  </ol>
  <p><strong>Final Verdict.</strong> We have characterized the <span class="math inline">\(K(10) = 25\)</span> landscape
    using modern
    stochastic optimization and graph-theoretic classification. The barrier
    from 25 to 26 is <strong>combinatorial rather than metric</strong>: it
    is not a matter of precision or computational power, but of discovering
    a fundamentally different intersection graph. If a 26-triangle
    configuration exists, it lies in a combinatorially isolated region
    inaccessible via continuous optimization.</p>
  <h2 id="references">References</h2>
  <ol type="1">
    <li>Fujimura, K. (1978). <em>Recreational Mathematics Problems</em>.
      Tokyo.</li>
    <li>Suzuki, T. (2002). Personal communication. Solution for <span class="math inline">\(K(10) = 25\)</span>.</li>
    <li>Clément, J., &amp; Bader, M. (2007). “On the Number of Triangles in
      Simple Arrangements of Lines.” <em>Discrete Mathematics</em>, 307(15),
      1882–1894.</li>
    <li>Wales, D. J., &amp; Doye, J. P. K. (1997). “Global Optimization by
      Basin-Hopping.” <em>Journal of Physical Chemistry A</em>, 101(28),
      5111–5116.</li>
  </ol>
  <hr />
  <p><strong>Acknowledgments</strong></p>
  <p>Algorithm design, implementation, and analysis performed by Maurizio
    Falconi.</p>
</body>

</html>